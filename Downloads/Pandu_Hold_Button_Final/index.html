<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Pandu ğŸ’–</title>
    <style>
        :root {
            --primary: #ff1a4a; 
            --gold: #ffd700;
            --bg: #0f001a;
            --glow-intense: rgba(255, 215, 0, 1);
        }

        body { margin: 0; background: var(--bg); font-family: 'Segoe UI', sans-serif; color: white; overflow: hidden; height: 100vh; }

        /* Music UI */
        #music-control {
            position: fixed; top: 20px; right: 20px; z-index: 1000;
            background: rgba(255,255,255,0.1); border-radius: 50%;
            width: 45px; height: 45px; display: flex;
            justify-content: center; align-items: center;
            cursor: pointer; border: 1px solid white; font-size: 20px;
        }

        /* Fireworks Canvas */
        #fw-canvas {
            position: fixed; inset: 0; pointer-events: none; z-index: 50;
        }

        .page { position: absolute; inset: 0; display: none; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 20px; }
        .show { display: flex; animation: fadeIn 0.8s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- PAGE 1: FIXED HEART --- */
        .heart-wrapper {
            position: relative; width: 220px; height: 220px; margin: 30px;
            opacity: 0; visibility: hidden; transition: opacity 0.5s ease;
            clip-path: path('M110 200 C110 200 0 135 0 75 A50 50 0 0 1 110 75 A50 50 0 0 1 220 75 C220 135 110 200 110 200');
        }

        .heart-frame {
            position: absolute; inset: 0; background: transparent; border: 4px solid var(--gold); 
            z-index: 10; filter: drop-shadow(0 0 15px var(--glow-intense)) drop-shadow(0 0 35px rgba(255, 215, 0, 0.6));
        }

        .liquid-mask {
            position: absolute; bottom: 0; left: 0; width: 100%; height: 0%;
            background: var(--primary); transition: height 0.1s linear; overflow: hidden; z-index: 5;
        }

        .ocean-wave {
            position: absolute; width: 450px; height: 450px;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.5) 0%, var(--primary) 20%);
            border-radius: 43%; top: -425px; left: -115px; animation: rotateWave 5s infinite linear;
        }

        @keyframes rotateWave { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* --- PAGE 2: ICONS --- */
        .cardbox { width: 320px; height: 320px; position: relative; display: flex; justify-content: center; align-items: center; }
        .word { 
            position: absolute; width: 90px; height: 90px; border-radius: 50%; display: flex; justify-content: center; align-items: center; 
            font-size: 12px; font-weight: bold; cursor: pointer; color: white; left: 50%; top: 50%; margin: -45px 0 0 -45px; 
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); opacity: 0; transform: scale(0); z-index: 10; border: 1px solid rgba(255,255,255,0.3); 
        }
        .show-icon { opacity: 1; transform: scale(1); }
        #gift { font-size: 80px; display: none; cursor: pointer; animation: pulse 1s infinite; }

        /* --- PAGE 4: PHOTOS --- */
        .photo-card { position: absolute; width: 250px; background: white; padding: 12px; border-radius: 4px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); cursor: pointer; transition: 0.6s; }
        .photo-card img { width: 100%; height: 260px; object-fit: cover; }
        .photo-card p { color: #333; margin: 15px 0 0; font-family: cursive; text-align: center; }
        .slide-off { transform: translate(150%, -30%) rotate(30deg) !important; opacity: 0; pointer-events: none; }

        /* --- PAGE 5: CARD & NEW YEAR --- */
        .card { width: 320px; height: 480px; perspective: 1000px; z-index: 60; }
        .card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.8s; transform-style: preserve-3d; cursor: pointer; }
        .card.open .card-inner { transform: rotateY(180deg); }
        .front { background: linear-gradient(135deg, #1a0033 0%, #000000 100%); border: 2px solid #331a4d; display: flex; flex-direction: column; justify-content: center; align-items: center; backface-visibility: hidden; position: absolute; inset: 0; border-radius: 20px; }
        .inside { background: #fff; color: #333; transform: rotateY(180deg); text-align: left; padding: 25px; border-radius: 20px; backface-visibility: hidden; position: absolute; inset: 0; overflow-y: auto; }

        button { padding: 15px 40px; border: none; border-radius: 30px; background: var(--primary); color: white; font-weight: bold; cursor: pointer; margin-top: 20px; z-index: 100; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
    </style>
</head>
<body>

<canvas id="fw-canvas"></canvas>
<audio id="myAudio" loop></audio>
<div id="music-control" onclick="toggleMusic()">ğŸµ</div>

<div id="p1" class="page show">
    <div style="font-size: 1.2rem; color: var(--gold); margin-bottom: 20px;">A Little Suprise for YOU ğŸ’—<br><span style="font-size: 2rem;">PANDU â¤ï¸</span></div>
    <div class="heart-wrapper" id="p1-heart">
        <div class="heart-frame"></div>
        <div class="liquid-mask" id="fill-area">
            <div class="ocean-wave"></div>
        </div>
    </div>
    <button onmousedown="startFill(event)" ontouchstart="startFill(event)" onmouseup="stopFill()" ontouchend="stopFill()">Hold My Love</button>
</div>

<div id="p2" class="page">
    <h2>Tap to clear the way...</h2>
    <div class="cardbox">
        <div id="gift" onclick="go(3)">ğŸ</div>
        <div class="word" id="w1" style="background:#6a5acd;" onclick="sideMove(this, -150, -150)">â˜ï¸ Stress</div>
        <div class="word" id="w2" style="background:#4682b4;" onclick="sideMove(this, 150, -150)">âœˆï¸ Distance</div>
        <div class="word" id="w3" style="background:#556b2f;" onclick="sideMove(this, -150, 150)">ğŸŒ§ï¸ Bad Days</div>
        <div class="word" id="w4" style="background:#b8860b;" onclick="sideMove(this, 150, 150)">ğŸ’¼ Work</div>
        <div class="word" id="w5" style="background:#8b0000;" onclick="sideMove(this, 0, -200)">ğŸ”‡ Silence</div>
    </div>
</div>

<div id="p3" class="page">
    <div style="background:white; color:#222; padding:40px; border-radius:20px; border:6px dashed var(--gold); width: 260px;">
        <h2 style="color:#b8860b; margin:0;">GOLDEN TICKET</h2>
        <p><b>Unlimited Love & Smiles</b></p>
    </div>
    <button onclick="go(4)">CLAIM TICKET</button>
</div>

<div id="p4" class="page">
    <h2 style="margin-bottom:20px; color: var(--gold);">Memories ğŸ’–</h2>
    <div style="position:relative; width:250px; height:340px;">
        <div class="photo-card" onclick="slideNext(this)"><img src="pic11.jpg"><p>ğŸ’–...</p></div>
        <div class="photo-card" onclick="slideNext(this)"><img src="pic10.jpg"><p>love...</p></div>
        <div class="photo-card" onclick="slideNext(this)"><img src="pic9.jpg"><p>Happiness...</p></div>
        <div class="photo-card" onclick="slideNext(this)"><img src="pic8.jpg"><p>forever...</p></div>
        <div class="photo-card" onclick="slideNext(this)"><img src="pic7.jpg"><p>you...</p></div>
        <div class="photo-card" onclick="slideNext(this)"><img src="pic6.jpg"><p>with...</p></div>
        <div class="photo-card" onclick="slideNext(this)"><img src="pic5.jpg"><p>I'm...</p></div>
        <div class="photo-card" onclick="slideNext(this)"><img src="pic4.jpg"><p>when...</p></div>
        <div class="photo-card" onclick="slideNext(this)"><img src="pic3.jpg"><p>better...</p></div>
        <div class="photo-card" onclick="slideNext(this)"><img src="pic2.jpg"><p>always...</p></div>
        <div class="photo-card" onclick="slideNext(this)"><img src="pic1.jpg"><p>Life is...</p></div>
    </div>
    <div id="gallery-controls" style="display:none; margin-top: 20px;">
        <button onclick="go(5)">Read Letter ğŸ’Œ</button>
    </div>
</div>

<div id="p5" class="page">
    <div class="card" id="finalCard" onclick="handleCardClick(this)">
        <div class="card-inner">
            <div class="front">
                <div style="font-size: 1.5rem; color: #fff;">HAPPY</div>
                <div style="font-size: 2.5rem; color: var(--gold); font-weight: 800;">2026</div>
                <div style="margin-top: 40px; color: var(--primary); font-family: cursive;">Tap to open âœ¨</div>
            </div>
            <div class="inside">
                <p><b>My beloved Pandu,</b></p>
                <p>As the clock resets and the world begins again, my heart does not change â€” it stays exactly where it has always livedâ€¦ wrapped safely, completely, and forever in yours.ğŸ¥°</p>
                <p>I wish for your new year to unfold like a beautiful love story â€” filled with golden mornings that start with hope and velvet nights that end with peace. I hope you catch yourself smiling for no reason at all, simply because your soul feels lighter knowing you are loved beyond measure.ğŸ˜˜</p>
                <p>Whenever the world becomes too loud, I promise to be your quiet place.
                    Whenever your heart grows tired, I promise to be your strength.
                    Whenever you feel unsure, I promise to remind you of how deeply, wildly, endlessly you are cherished.
                </p>
                <p>I want this year to treat you gently, the way youâ€™ve treated my heartâ¤ï¸ â€” with patience, warmth, and the soft kind of love that feels like home. May every dream youâ€™ve whispered to the stars finally find its way into your hands, and may you always remember that none of them are too big when Iâ€™m walking beside you.</p>
                <p>You are my favorite thought when the day begins, my greatest comfort when the world feels heavy, and my most beautiful adventure in every lifetime. Thank you for being the person who turns ordinary moments into memories I want to keep forever.</p>
                <p>Happy New Year, my love.ğŸ©·
                    I donâ€™t just love youâ€¦
                    I choose you. I belong with you. And my heart knows it will always be you. â¤ï¸ğŸ©·ğŸ§¡ğŸ’›ğŸ’šğŸ’™ğŸ©µğŸ’œğŸ–¤ğŸ©¶ğŸ¤ğŸ¤â¤ï¸â€ğŸ”¥â£ï¸ğŸ’ğŸ’“ğŸ’—ğŸ’–ğŸ’˜ğŸ’ğŸ’•</p>
            </div>
        </div>
    </div>
</div>

<script>
    const audio = document.getElementById("myAudio");
    const song1 = "song1.mp3"; 
    const song2 = "song2.mp3";
    let currentSong = "";

    function toggleMusic() {
        if (audio.paused) { audio.play(); document.getElementById("music-control").innerHTML = "ğŸ”Š"; }
        else { audio.pause(); document.getElementById("music-control").innerHTML = "ğŸµ"; }
    }

    function go(n){
        document.querySelectorAll('.page').forEach(p=>p.classList.remove('show'));
        document.getElementById('p'+n).classList.add('show');
        const song = (n <= 2) ? song1 : song2;
        if (currentSong !== song) {
            currentSong = song;
            audio.src = song;
            audio.play().catch(e => {});
        }
        if(n === 2) {
            for(let i=1; i<=5; i++) {
                setTimeout(() => {
                    const el = document.getElementById('w'+i);
                    if(el) el.classList.add('show-icon');
                }, i * 300);
            }
        }
    }

    /* --- Page 1 Fill Logic --- */
    let fillT, fillP = 0;
    const wrapper = document.getElementById('p1-heart');
    const fillArea = document.getElementById('fill-area');

    function startFill(e){
        if(e && e.type === 'touchstart') e.preventDefault();
        wrapper.style.visibility = "visible";
        wrapper.style.opacity = "1";
        if (!currentSong) {
            currentSong = song1;
            audio.src = song1;
            audio.play().catch(e => {});
        }
        fillT = setInterval(() => {
            if (fillP < 100) {
                fillP += 1.4;
                fillArea.style.height = fillP + "%";
            } else {
                clearInterval(fillT);
                setTimeout(() => go(2), 500);
            }
        }, 30);
    }
    
    function stopFill(){ clearInterval(fillT); }

    function sideMove(el, x, y) {
        el.style.transform = `translate(${x}px, ${y}px) scale(0.6)`;
        el.style.opacity = "0.7"; el.style.pointerEvents = "none";
        clickCount++;
        if(clickCount >= 5) document.getElementById('gift').style.display = "block";
    }
    let clickCount = 0;

    function slideNext(el) { 
        el.classList.add('slide-off'); pCount++; 
        if(pCount >= 4) document.getElementById('gallery-controls').style.display = 'block'; 
    }
    let pCount = 0;

    /* --- Fireworks Logic --- */
    const canvas = document.getElementById('fw-canvas');
    const ctx = canvas.getContext('2d');
    let fwActive = false;

    function handleCardClick(el) {
        el.classList.toggle('open');
        if (el.classList.contains('open')) {
            startFireworks();
        } else {
            fwActive = false;
        }
    }

    function startFireworks() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        fwActive = true;
        animateFw();
    }

    const particles = [];
    class Particle {
        constructor(x, y, color) {
            this.x = x; this.y = y; this.color = color;
            this.velocity = { x: (Math.random() - 0.5) * 8, y: (Math.random() - 0.5) * 8 };
            this.alpha = 1; this.friction = 0.95;
        }
        draw() {
            ctx.globalAlpha = this.alpha;
            ctx.beginPath(); ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
            ctx.fillStyle = this.color; ctx.fill();
        }
        update() {
            this.velocity.x *= this.friction; this.velocity.y *= this.friction;
            this.x += this.velocity.x; this.y += this.velocity.y;
            this.alpha -= 0.01;
        }
    }

    function createFirework(x, y) {
        const color = `hsl(${Math.random() * 360}, 100%, 50%)`;
        for (let i = 0; i < 40; i++) particles.push(new Particle(x, y, color));
    }

    function animateFw() {
        if (!fwActive) { ctx.clearRect(0,0,canvas.width,canvas.height); return; }
        requestAnimationFrame(animateFw);
        ctx.fillStyle = 'rgba(15, 0, 26, 0.1)'; ctx.fillRect(0,0,canvas.width,canvas.height);
        
        if (Math.random() < 0.05) createFirework(Math.random() * canvas.width, Math.random() * canvas.height * 0.7);
        
        particles.forEach((p, i) => {
            if (p.alpha > 0) { p.update(); p.draw(); }
            else { particles.splice(i, 1); }
        });
    }
</script>
</body>
</html>